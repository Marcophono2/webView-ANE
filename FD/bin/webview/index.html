<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Ali Tavakoli">
	<script type="text/javascript" src="Bridge.js"></script>
<title>Strict Mode</title>

<style>
/*
	Android does not support fullscreen videos in HTML so, with the following css we are
	removing the fullscreen button from Android
*/

video::-webkit-media-controls-fullscreen-button {
    display: none;
}
video::-webkit-media-controls-play-button {
   background: red; 
}
video::-webkit-media-controls-play-button {}
video::-webkit-media-controls-timeline {}
video::-webkit-media-controls-current-time-display{}
video::-webkit-media-controls-time-remaining-display {}
video::-webkit-media-controls-time-remaining-display {}
video::-webkit-media-controls-mute-button {}
video::-webkit-media-controls-toggle-closed-captions-button {}
video::-webkit-media-controls-volume-slider {}
</style>

<script>
"use strict";

function diplayAlert(msg)
{
	alert(msg);
}

function onClick($msg)
{
	Bridge.call($msg);
}

function toPlaySound()
{
	// this string will be send to flash. you can send anything from here and then you can parse it on flash side and do whatever you like with it.
	Bridge.call("toPlaySound|");
}

function toOpenJSAlert()
{
	Bridge.call("toOpenJSAlert|");
}
</script>

</head>

<body>
	<h2>Rich WebView ANE V2.0 (iOS+Android)</h2>
	<p>The WebView extension lets you create a web view port inside your AdobeAir mobile application and load content from a URL or an offline html file
	on Android and iOS. This is basically what the Adobe's default StageWebView does but the power point this extension has, is the ability to enable your
	JavaScript code communicate with your flash logic! we are using the latest features that Android and iOS SDK provide to let you get the best out of the
	webView on both platforms.</p>
	
	<p>
	<h4>Main Features:</h4>
	<ul>
		<li>Call JS funcs from flash</li>
		<li>And send messages to flash from JS</li>
		<li>Navigate back and forth through pages</li>
		<li>Control the Scroll position</li>
		<li>Change the view port size and position at any time</li>
		<li>Play video files inside the webview</li>
		<li>Take full screenshots from your webview object</li>
		<li>And of course you can do whatever HTML allowes you to do!</li>
	</ul>
	
	let's see these features in more details!
	</p>
	
	<p>
	<h4>Communicate between Flash and JS</h4>
	Well, possebilities are endless when you can send messages to flash and vice versa. you may do simple tasks like playing a sound or showing a toast but you
	can also do complicated stuff like opening the camera, taking a picture and retrive the photo in your JS logic! I don't know, just use your imagination! As
	a very simple test, I'm going to tell my flash app to play a sound by calling the following func from my html: <font color="#FF9900">toPlaySound()</font> 
	<a href="javascript:void(0);" onclick="toPlaySound();" return false;>CLICK ME!</a> <b>make sure your device is not silenced to hear the sound</b>
	<br><br>
	as another test, I'm going to send a message to flash and in return, flash will call JS to open an Alert window! <a href="javascript:void(0);" onclick="toOpenJSAlert();" return false;>
	CLICK HERE.</a>
	</p>
	
	<p>
	<h4>Resizing the view port in runtime</h4>
	Being able to resize and position your webView is very important because with that you will be able to put the web view anywhere inside your app design
	in case you don't want to open it in fullscreen like this sample! you can easily change the position and dimension of your view from flash... try the
	following buttons to test the resizing option...
	<button type="button" onClick="onClick('changePosition|50|100|100|200')">changePosition</button>
	<button type="button" onClick="onClick('changePosition|0|0|0|0')">fullscreen</button>
	</p>
	
	<p>
	<h4>Control the scroll position</h4>
	html and JS is able to control the scrolling of a web page but you will have more options if you use the ANE methods like:
	<ul>
		<li>_ex.pageDown(false);</li>
		<li>_ex.pageDown(true);</li>
		<li><a href="javascript:void(0);" onclick="onClick('pageUp|')" return false;>_ex.pageUp(false);</a></li>
		<li><a href="javascript:void(0);" onclick="onClick('firstPage|')" return false;>_ex.pageUp(true);</a></li>
		<li><a href="javascript:void(0);" onclick="onClick('zoomIn|')" return false;>_ex.zoomIn();</a></li>
		<li><a href="javascript:void(0);" onclick="onClick('zoomOut|')" return false;>_ex.zoomOut();</a></li>
		<li>_ex.filingScroll(0, 200);</li>
		<li>_ex.scrollBy(0, -200);</li>
		<li>_ex.scrollTo(_ex.scrollX, (_ex.scrollY + 200));</li>
	</ul>
	</p>
	
	<p>
	<h4>Take Bitmap screenshots</h4>
	if you need screenshots to be taken from your webview page, all you have to do is to call _ex.requestBitmap();
	<button type="button" onClick="onClick('toTakeScreenshot|')">test the screenshot!</button>
	</p>

	<p>
	<h4>Play video clips inline</h4>
	<video width="300" controls poster="image.jpg">
	<source src="movie01.mp4" type="video/mp4">
	  Your browser does not support HTML5 video.
	</video>
	</p>
	
	<p>
	<button type="button" onClick="onClick('closeWebView|')">closeWebView</button>
	</p>
	
</body>
</html>